name: Deploy to Azure Storage

on:
  workflow_call:
    inputs:
      storage-account:
        required: true
        type: string
      source-path:
        required: true
        type: string

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Upload to Azure Storage
        uses: Azure/storage-blob-upload-action@v1
        with:
          source: ${{ inputs.source-path }}
          destination: ${{ inputs.storage-account }}
        env:
          AZURE_STORAGE_ACCOUNT: ${{ secrets.AZURE_STORAGE_ACCOUNT }}
          AZURE_STORAGE_KEY: ${{ secrets.AZURE_STORAGE_KEY }}